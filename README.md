
# 🛠️ パッケージ管理シェルスクリプト 🛠️

このシェルスクリプトは、Red Hat系のLinuxディストリビューションにおいて、指定したパッケージのアップデートまたはインストールを行い、関連するログを保存する機能を提供します。

## 🌟 機能 🌟

- 📦 **パッケージの現在のバージョンと利用可能なバージョンを表示**
- 🔄 **パッケージのアップデートまたはインストール**
- 🛠️ **複数のパッケージを一度に処理可能**
- 📝 **アップデート/インストールのログを指定したディレクトリに保存**
- ⚠️ **エラーハンドリングの強化**
- ⏰ **ログにアップデート/インストールの開始時刻と終了時刻を記録**

## 🚀 使い方 🚀

1. **スクリプトの実行**: 
   ```bash
   ./update.sh
   ```

2. **パッケージの名前を入力**:
   スペースで区切って複数のパッケージを指定できます。
   ```
   パッケージの名前をスペースで区切って入力してください: httpd mariadb php
   ```

3. **各パッケージに対する操作の選択**:
   アップデートまたはインストールの確認を求められます。
   ```
   httpd をアップデートしますか？ (yes/no): yes
   mariadb をアップデートしますか？ (yes/no): no
   php をインストールしますか？ (yes/no): yes
   ```

4. **ログの保存**:
   ログを保存するディレクトリを指定します。
   ```
   ログを保存するディレクトリを入力してください: /var/logs
   ```
   保存するかどうかを確認します。
   ```
   ログを保存しますか？ (yes/no): yes
   ```

## 📋 サンプル出力 📋

```
パッケージの名前をスペースで区切って入力してください: httpd
現在のバージョン: 2.4.6-90.el7.centos
利用できるバージョン: 2.4.6-93.el7.centos
httpd をアップデートしますか？ (yes/no): yes
アップデートを開始します...
アップデートを完了しました。
アップデート開始時刻: 2024-06-15 05:35:42
アップデート終了時刻: 2024-06-15 05:36:06
現在のバージョンは 2.4.6-93.el7.centos です。
ログを保存するディレクトリを入力してください: /var/logs
ログを保存しますか？ (yes/no): yes
ログを /var/logs/httpd_202406150536.log に保存しました。
```

## 🔧 スクリプトの詳細 🔧

### display_versions 関数
パッケージの現在のバージョンと利用可能なバージョンを表示します。

### update_or_install_package 関数
パッケージのアップデートまたはインストールを行います。操作の開始時刻と終了時刻を表示します。

### save_log 関数
指定したディレクトリにログを保存します。開始時刻以降のすべてのログを抽出します。

---

✨ **複数のパッケージを簡単にアップデート、インストールします。✨

---
